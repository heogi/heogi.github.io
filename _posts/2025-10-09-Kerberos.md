---
title: Kerberos
author: heogi
date: 2025-10-09
categories:
  - Kerberos
  - Active Directory
tags:
  - Kerberos
  - Active-Directory
comments: true
---
## Kerberos란 
Kerberos란 안전하지 않은 네트워크에서 사용자나 컴퓨터가 서로의 신원을 안전하게 인증하기 위해 사용하는 티켓 기반의 네트워크 인증 프로토콜이다.

## Kerberos 구성 요소
* Client(USER) 
	* 세션을 설정하려는 컴퓨터 또는 사용자
* Application Server
	* Client가 통신하고자 하는 Application 또는 Service 제공 서버
* KDC(Key Distribution Center)
	* 인증 서비스를 제공하고 티켓 및 임시 세션키를 제공하는 신뢰할 수 있는 제 3자의 역할을 하는 서버, AS(Authentication Server)와 TGS(Ticket Granting Server)로 구성
	* AS(Authentication Server)
		* Client가 전송한 인증 요청을 검증하고, TGT(Ticket Grant Ticket)을 발급해주는 서버
	* TGS(Ticket Granting Server)
		* AS로 부터 인증을 받은 Client가 특정 서비스에 접근할 수 있도록 해당 서비스의 티켓과 세션 키를 발급해주는 서버
## Kerberos 동작 순서
1. AS_REQ (request TGT)
	1. 클라이언트가 KDC에 인증 티켓 요청
	2. Client Name, Pre-Auth Data(Client Key로 암호화된 Timestamp)를 KDC에 전달
2. AS_REP (receive TGT)
	1. KDC가 보유한 Client Key를 사용하여 Pre-Auth Data를 복호화하여 Timestamp 유효성 검증
	2. krbtgt 계정의 키로 암호화된 TGT 전달
![|1288x1176](../assets/img/2025-10-09-Kerberoasting-1760010354948.png)